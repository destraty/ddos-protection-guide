# Безопасность сети и защита от DDoS-атак: Практическое применение инструментов для обнаружения и блокировки DDoS-атак, а также настройка межсетевого экрана с использованием iptables для фильтрации трафика и защиты от вредоносных атак

![Alt-текст](https://media.licdn.com/dms/image/D4D12AQHm1jnyv7m8JQ/article-cover_image-shrink_720_1280/0/1685207257405?e=2147483647&v=beta&t=qDADzXUadnxTNHjy93bdZl2aoGFEyVmYgz2nom1yuWk "Орк")


**Цели работы:**
Изучение основных принципов и методов защиты от DDoS-атак.
Практическое применение инструментов для обнаружения DDoS-атак.
Настройка межсетевого экрана iptables для фильтрации трафика и защиты от вредоносных атак.

# Шаг 1: Введение в DDoS-атаки
## Теоретическая часть:
DDoS (Distributed Denial of Service) - это тип атаки, при которой множество компьютеров (часто зараженных вирусами) направляют трафик на один сервер, что приводит к его перегрузке и недоступности для нормального использования.
## Основные типы DDoS-атак:

- **Volume Based Attacks:** ICMP floods, UDP floods.

- **Protocol Attacks:** SYN floods, fragmented packet attacks.

- **Application Layer Attacks:** HTTP GET/POST floods.

# Шаг 2: Практическая часть:

Установка инструментов для обнаружения DDoS-атак.
Установка Fail2Ban.
Откройте терминал и обновите список пакетов:
```
sudo apt update
```
Установите Fail2Ban:
```
sudo apt install fail2ban
```
Настройте Fail2Ban, создав копию конфигурационного файла:
```
sudo cp /etc/fail2ban/jail.conf /etc/fail2ban/jail.local
```
Отредактируйте файл ```/etc/fail2ban/jail.local```, настроив параметры под свои нужды.

# Шаг 3: Настройка iptables
Просмотр текущих правил iptables:
```
sudo iptables -L
```
Блокировка IP-адреса:
```
sudo iptables -A INPUT -s <IP-адрес> -j DROP
```
## Примеры настройки для защиты от различных типов атак:
Защита от SYN flood:
```
sudo iptables -A INPUT -p tcp --syn -m limit --limit 1/s --limit-burst 3 -j ACCEPT
```
Защита от ICMP flood:
```
sudo iptables -A INPUT -p icmp -m limit --limit 1/s --limit-burst 1 -j ACCEPT
```
Защита от UDP flood:
```
sudo iptables -A INPUT -p udp -m limit --limit 10/s --limit-burst 20 -j ACCEPT
```

- iptables: Команда для работы с интерфейсом командной строки iptables, который используется для создания, модификации и удаления правил фильтрации пакетов в ядре Linux.
- -A INPUT: Добавляет (-A) новое правило в цепочку INPUT. Цепочка INPUT обрабатывает входящие пакеты.
- -p tcp: Указывает протокол пакетов, к которым применяется правило, в данном случае TCP.
- --syn: Ограничивает применение правила только для синхронизационных пакетов TCP. Синхронизационные пакеты используются при установлении соединения (SYN).
- -m limit: Использование модуля limit для ограничения скорости обработки пакетов.
- --limit 1/s: Устанавливает лимит на количество пакетов, которые могут быть обработаны за секунду, равный одному пакету.
- --limit-burst 3: Определяет максимальное количество пакетов, которые могут быть принятых за один "бурст" или всплеск, до достижения установленного лимита скорости. В данном случае это три пакета.
- -j ACCEPT: Указывает действие, которое следует предпринять при соответствии условию правила. В данном случае пакеты будут приняты (ACCEPT), то есть разрешены проход через систему без дальнейшей проверки.

Чтобы запретить пакеты в iptables, вы можете использовать команду с опцией ```-j DROP``` или ```-j REJECT```, в зависимости от того, какой тип ответа вы хотите отправить обратно клиенту. Вот примеры обоих подходов:

Использование ```-j DROP```: Эта команда просто удаляет пакеты без отправки никакого уведомления обратно клиенту. Это может быть полезно, если вы не хотите предоставлять информацию о том, был ли запрос успешным или нет.
```
sudo iptables -A INPUT -s <ip> -j DROP
```
Использование ```-j REJECT```: Эта команда отклоняет пакеты и отправляет клиенту сообщение об ошибке, указывающее, что соединение было отклонено. Это может быть полезно, если вы хотите информировать клиента о причине отказа в подключении.
```
sudo iptables -A INPUT -s <ip> -j REJECT
```
Выбор между ```-j DROP``` и ```-j REJECT``` зависит от ваших потребностей в безопасности и от того, хотите ли вы информировать клиентов о причинах отказа в подключении. Обратите внимание, что использование ```-j DROP``` может быть более безопасным вариантом, поскольку он не раскрывает дополнительную информацию о вашей системе или сетевой инфраструктуре.

# Шаг 4: Тестирование настройки защиты

